<!DOCTYPE html><html lang="en"><head><style id="stitches">--sxs{--sxs:0 t-cOyNnh}@media{:root,.t-cOyNnh{--fonts-system:system-ui;--colors-hiContrast:hsl(206,10%,5%);--colors-loContrast:white;--fontSizes-1:13px;--fontSizes-2:15px;--fontSizes-3:17px;--fontSizes-xl:2rem;--fontSizes-xxl:3rem}}--sxs{--sxs:2 c-krsDjC c-lgmbrx c-iwAaEQ c-kwESZc c-tqOXQ c-eOeUpf c-heKqXQ c-ldkxSg c-hdHRLY c-hkbLCQ c-eRFWya}@media{.c-krsDjC{display:flex;justify-content:center;align-items:center;background-color:BlueViolet;width:100vw;height:4rem;position:fixed;top:0;left:0}.c-lgmbrx{max-width:768px;width:100%;color:white;display:flex;justify-content:space-between}.c-iwAaEQ{color:inherit;text-decoration:none}.c-kwESZc{padding:0 1rem;text-decoration:none;color:inherit}.c-tqOXQ{max-width:768px;width:100%}.c-eOeUpf{font-family:var(--fonts-system);color:var(--colors-hiContrast)}.c-heKqXQ{display:grid;grid-template-columns:repeat(2, 1fr);grid-gap:1rem}.c-ldkxSg{padding:1rem;border-radius:6px;box-shadow:0 0 4px rgba(0,0,0,0.5)}.c-hdHRLY{list-style:none}.c-hkbLCQ{line-height:2rem}.c-hkbLCQ:before{content:"â†¬ "}.c-eRFWya{text-decoration:none;color:inherit;font-size:1.25rem}}--sxs{--sxs:3 c-eOeUpf-cGgmEV-size-xxl c-eOeUpf-iPGoSV-size-xl c-eOeUpf-cBLpOj-size-2}@media{.c-eOeUpf-cGgmEV-size-xxl{font-size:var(--fontSizes-xxl)}.c-eOeUpf-iPGoSV-size-xl{font-size:var(--fontSizes-xl)}.c-eOeUpf-cBLpOj-size-2{font-size:var(--fontSizes-2)}}</style><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/next-keystone-blog/_next/static/css/56c54c057d0d1b0a.css" as="style"/><link rel="stylesheet" href="/next-keystone-blog/_next/static/css/56c54c057d0d1b0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-keystone-blog/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/next-keystone-blog/_next/static/chunks/webpack-c3b4cb2dfc6cdfef.js" defer=""></script><script src="/next-keystone-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-keystone-blog/_next/static/chunks/main-77b0b41bbaf6e69c.js" defer=""></script><script src="/next-keystone-blog/_next/static/chunks/pages/_app-42ee47cba8452e4c.js" defer=""></script><script src="/next-keystone-blog/_next/static/chunks/292-b42ac76e9eddc3bf.js" defer=""></script><script src="/next-keystone-blog/_next/static/chunks/pages/post/%5Bslug%5D-72d9bdb6a55acd4f.js" defer=""></script><script src="/next-keystone-blog/_next/static/61RKXi0o0K494Skfcsb2J/_buildManifest.js" defer=""></script><script src="/next-keystone-blog/_next/static/61RKXi0o0K494Skfcsb2J/_ssgManifest.js" defer=""></script><script src="/next-keystone-blog/_next/static/61RKXi0o0K494Skfcsb2J/_middlewareManifest.js" defer=""></script></head><body style="display:flex;justify-content:center;flex-direction:column;background-color:beige;align-items:center;min-height:100vh"><div id="__next"><div class="c-krsDjC"><div class="c-lgmbrx"><a href="/next-keystone-blog" class="c-iwAaEQ">Dog-Food Central</a><div style="display:flex;align-items:center"><a href="/next-keystone-blog/posts" class="c-kwESZc">articles</a><a href="/next-keystone-blog/authors" class="c-kwESZc">authors</a></div></div></div><main><section style="display:flex;justify-content:center;max-width:768px"><div class="c-tqOXQ"><div><main style="margin:3rem"><h1 class="c-eOeUpf c-eOeUpf-iPGoSV-size-xl">Basic Setup</h1><h2 style="text-transform:uppercase">Starting from</h2><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2">The base of this installation is the (at the moment of writing) unreleased version 6 of the <a href="https://keystonejs.com/">KeystoneJS</a> CMS, which is running in embedded mode in a <a href="https://nextjs.org/">NextJS</a> environment.</p><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2">The GitHub CI/CD is set up in such a way as to deploy the compiled and exported SSG to <a href="https://zee-german.github.io/next-keystone-blog/">GitHub pages</a></p><h2 style="text-transform:uppercase">What this post looks like in the CMS</h2><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2">[ here should be an image component, which there is none so far in the editor - time to code one! ]</p><div><img src="/images/d9f6b7ca-b2f4-4ece-8970-ef6d043c2017.png" alt="test" style="max-width:768px"/></div><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2">Now, with some magic by adding an Image field and component to the editor, we can finally add pictures to the pages</p><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2"></p><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2"><code>import {component,fields} from &#x27;@keystone-next/fields-document/component-blocks&#x27;;
export const componentBlocks = {
    image: component({component: props =&gt; {
        return(
// eslint-disable-next-line @next/next/no-img-element&lt;imgsrc={props.imageSrc.value}alt=&#x27;img-test&#x27;style={{              minHeight:200,              padding:16,              width:&#x27;100%&#x27;,}}/&gt;);},      label:&#x27;Image&#x27;,      props:{        imageSrc:fields.text({          label:&#x27;Image URL&#x27;,          idefaultValue:&#x27;https://images.unsplash.com/photo-1579546929518-9e396f3cc809&#x27;,}),},}),};</code></p><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2"></p><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2"></p><div><img src="/images/71353b00-16df-4598-a5e3-5ed190f31270.png" alt="test" style="max-width:768px"/></div><p class="c-eOeUpf c-eOeUpf-cBLpOj-size-2"></p></main></div></div></section></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"ckvr6hjfv0045szew24zave1b","title":"Basic Setup","content":{"document":[{"type":"heading","children":[{"text":"Starting from"}],"level":2},{"type":"paragraph","children":[{"text":"The base of this installation is the (at the moment of writing) unreleased version 6 of the "},{"type":"link","href":"https://keystonejs.com/","children":[{"text":"KeystoneJS"}]},{"text":" CMS, which is running in embedded mode in a "},{"type":"link","href":"https://nextjs.org/","children":[{"text":"NextJS"}]},{"text":" environment."}]},{"type":"paragraph","children":[{"text":"The GitHub CI/CD is set up in such a way as to deploy the compiled and exported SSG to "},{"type":"link","href":"https://zee-german.github.io/next-keystone-blog/","children":[{"text":"GitHub pages"}]},{"text":""}]},{"type":"heading","children":[{"text":"What this post looks like in the CMS"}],"level":2},{"type":"paragraph","children":[{"text":"[ here should be an image component, which there is none so far in the editor - time to code one! ]"}]},{"type":"component-block","component":"image","props":{"imageSrc":"/images/d9f6b7ca-b2f4-4ece-8970-ef6d043c2017.png"},"children":[{"type":"component-inline-prop","children":[{"text":""}]}]},{"type":"paragraph","children":[{"text":"Now, with some magic by adding an Image field and component to the editor, we can finally add pictures to the pages"}]},{"type":"paragraph","children":[{"text":""}]},{"type":"paragraph","children":[{"text":"import {component,fields} from '@keystone-next/fields-document/component-blocks';\nexport const componentBlocks = {\n    image: component({component: props =\u003e {\n        return(\n// eslint-disable-next-line @next/next/no-img-element\u003cimgsrc={props.imageSrc.value}alt='img-test'style={{              minHeight:200,              padding:16,              width:'100%',}}/\u003e);},      label:'Image',      props:{        imageSrc:fields.text({          label:'Image URL',          idefaultValue:'https://images.unsplash.com/photo-1579546929518-9e396f3cc809',}),},}),};","code":true}]},{"type":"paragraph","children":[{"text":""}]},{"type":"paragraph","children":[{"text":""}]},{"type":"component-block","component":"image","props":{"imageSrc":"/images/71353b00-16df-4598-a5e3-5ed190f31270.png"},"children":[{"type":"component-inline-prop","children":[{"text":""}]}]},{"type":"paragraph","children":[{"text":""}]}]}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"basic-setup"},"buildId":"61RKXi0o0K494Skfcsb2J","assetPrefix":"/next-keystone-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>